/* Mobile Button Text Optimization - Verhindert abgeschnittene Button-Texte */

@media (max-width: 768px) {

    /* Alle Buttons: Bessere Text-Handhabung */
    .btn,
    .btn-primary,
    .btn-secondary,
    .btn-danger,
    button {
        white-space: normal !important;
        word-wrap: break-word !important;
        text-align: center !important;
        min-height: 44px !important;
        /* Touch-freundliche Mindesthöhe */
        padding: 10px 12px !important;
        line-height: 1.3 !important;
        font-size: 0.85rem !important;
    }

    /* Buttons in Flex-Containern */
    .btn,
    .btn-primary,
    .btn-secondary {
        flex-shrink: 0 !important;
        width: auto !important;
        max-width: 100% !important;
    }

    /* Button-Icons kleiner machen */
    .btn i,
    .btn-primary i,
    .btn-secondary i {
        width: 16px !important;
        height: 16px !important;
        flex-shrink: 0 !important;
    }

    /* Card Header Buttons */
    .card-header {
        flex-wrap: wrap !important;
        gap: 8px !important;
    }

    .card-header .btn-small {
        min-width: 36px !important;
        min-height: 36px !important;
        padding: 8px !important;
    }

    /* Kontakte-Ansicht Header & Content */
    #view-contacts .card-header,
    .view-section .card-header {
        padding: 15px !important;
    }

    #view-contacts>.card>div:nth-child(3) {
        padding: 10px !important;
        /* Reduce padding for content */
    }

    /* Button-Gruppen horizontal scrollbar wenn nötig */
    div[style*="display:flex; gap:10px"],
    div[style*="display:flex;gap:10px"] {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        padding-bottom: 5px !important;
    }

    /* Spezifische Button-Container */
    .top-actions,
    .card-header>div:last-child {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        justify-content: flex-start !important;
    }

    /* Modal Buttons */
    #modalContent .btn,
    #modalContent .btn-primary,
    #modalContent .btn-secondary {
        width: 100% !important;
        margin-bottom: 8px !important;
        justify-content: center !important;
    }

    /* Flex-Container für Buttons */
    div[style*="display:flex"][style*="gap"] button {
        flex: 1 1 auto !important;
        min-width: 0 !important;
    }

    /* Zwei-Button-Layout (z.B. Abbrechen/Speichern) */
    div[style*="display:flex; gap:10px; margin-top:20px"] .btn,
    div[style*="display:flex;gap:10px;margin-top:20px"] .btn {
        flex: 1 !important;
        min-width: 120px !important;
    }

    /* Kontakte Import Buttons */
    #view-contacts button {
        white-space: normal !important;
        padding: 10px 15px !important;
        min-height: 44px !important;
    }

    /* Verhindere Text-Overflow in allen Buttons */
    button,
    .btn,
    .btn-primary,
    .btn-secondary,
    .btn-danger {
        overflow: visible !important;
        text-overflow: clip !important;
    }

    /* Icon-Only Buttons bleiben kompakt */
    .btn-small,
    .icon-btn {
        white-space: nowrap !important;
        padding: 8px !important;
        min-width: 36px !important;
        min-height: 36px !important;
    }

    /* Form Buttons */
    .form-group button,
    .form-group .btn {
        width: 100% !important;
        margin-top: 8px !important;
    }

    /* Navigation Buttons */
    .nav-item-mobile {
        padding: 8px 4px !important;
        min-height: 60px !important;
        font-size: 0.7rem !important;
    }

    /* Dashboard Mode Switcher - Fix padding and margin */
    #btnModeBusiness,
    #btnModePrivate {
        padding: 8px 16px !important;
        font-size: 0.85rem !important;
        white-space: nowrap !important;
    }

    /* Move switcher down on mobile */
    .dash-mode-switcher {
        margin-top: 10px !important;
    }

    /* Verhindere horizontales Scrollen der Hauptseite */
    body,
    .main-content,
    .dashboard-grid {
        overflow-x: hidden !important;
    }

    /* Card-Inhalte linksbündig für bessere Lesbarkeit */
    .card {
        text-align: left !important;
    }

    /* Button-Container in Cards */
    .card>div[style*="display:flex"] {
        flex-wrap: wrap !important;
        gap: 8px !important;
    }

    /* Spezielle Anpassung für Kontakte-Header */
    #view-contacts>.card>div:first-child {
        padding: 20px 15px !important;
    }

    #view-contacts>.card>div:first-child>div {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 15px !important;
    }

    #view-contacts>.card>div:first-child>div>div:last-child {
        width: 100% !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 10px !important;
    }

    #view-contacts>.card>div:first-child button {
        width: 100% !important;
    }
}

/* Extra kleine Bildschirme */
@media (max-width: 400px) {

    .btn,
    .btn-primary,
    .btn-secondary {
        font-size: 0.8rem !important;
        padding: 8px 10px !important;
    }

    .btn i {
        width: 14px !important;
        height: 14px !important;
    }
}

/* Ensure menu works on desktop */
@media (min-width: 769px) {
    .mobile-menu-toggle {
        display: flex !important;
    }
}